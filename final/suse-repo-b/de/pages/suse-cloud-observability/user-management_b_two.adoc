= Benutzerverwaltung
:description: SUSE Cloud Observability-Benutzerverwaltung

Benutzer der SUSE Cloud Observability-Tenants (SUSE Cloud Observability-Instanzen) werden mit https://www.keycloak.org/[Keycloak] verwaltet. Jeder Kunde (Mieter) hat einen eigenen Keycloak-Bereich. Ein Link zur Keycloak-Konsole wird in der Willkommensnachricht gesendet, wenn ein Benutzer angelegt wird.

SUSE Cloud Observability leitet die Benutzer zur Authentifizierung an Keycloak weiter. Von den Benutzern wird erwartet, dass sie Mitglied einer oder mehrerer Keycloak-Gruppen sind.

Die vordefinierten Keycloak-Gruppen:

* *realm-admin*: Mitglieder dieser Gruppe können sich in die Keycloak Realm-Konsole einloggen und Benutzerverwaltungsoperationen durchführen.
* *stackstate-k8s-troubleshooter*: Benutzern in dieser Gruppe wird die Client-Rolle `stackstate-k8s-troubleshooter` Keycloak zugewiesen, die der gleichnamigen SUSE Cloud Observability-Rolle entspricht. Die Rolle gewährt reguläre SUSE Cloud Observability-Berechtigungen.
* *stackstate-k8s-admin*: Benutzern in dieser Gruppe wird die Client-Rolle `stackstate-k8s-admin` Keycloak zugewiesen, die der gleichnamigen SUSE Cloud Observability-Rolle entspricht. Die Rolle gewährt privilegierte SUSE Cloud Observability-Berechtigungen.

== URL der Benutzerverwaltung

Wenn ein neuer Benutzer angelegt wird, erhält er eine Willkommensnachricht, die einen Link zur Keycloak-Benutzerverwaltungsseite enthält. Dieser Link ist *ausschließlich für den Mieterverwalter* bestimmt, der standardmäßig der erste Benutzer ist. Das URL-Format lautet: `https://<keycloak_FQDN>/realms/<your_dedicated_Keycloak_realm>/account`.

== Benutzerverwaltung

* Loggen Sie sich in die Keycloak Admin-Konsole ein.

image::keycloak_admin_console.png[Keycloak Verwaltungskonsole]

=== Verwalten von Benutzern

* Wählen Sie im linken Menü `Users` unter `Manage`.

==== Hinzufügen eines neuen Benutzers

Klicken Sie auf die Schaltfläche `Add user` und geben Sie die Benutzerinformationen ein, z. B. "Benutzername", "E-Mail", "Vorname" und "Nachname".

. Lassen Sie das Feld `Required users actions` leer.
. Fügen Sie den Benutzer zu den erforderlichen Gruppen hinzu.
. Klicken Sie auf `Save`.
+
Die Willkommensnachricht mit dem Anmeldelink und den Links zu den Konsolen SUSE Cloud Observability Tenant, Keycloak Admin und Account wird per E-Mail an den Benutzer gesendet.

NOTE: Zur Aktivierung des Kontos, die eine E-Mail-Bestätigung und die Rücksetzung des Passworts umfasst, muss der Nutzer dem Anmeldelink folgen.

image::keycloak_create_user.png[Keycloak Benutzer erstellen]

==== Aktualisierung der Benutzerdaten

Um *Benutzerdetails zu bearbeiten*, wählen Sie den Benutzer aus, indem Sie auf Benutzername klicken.

. Ändern Sie die Details nach Bedarf.
. Legen Sie ein oder mehrere `Required user actions` fest, um z. B. Benutzer zu zwingen, ihr Passwort zu aktualisieren oder einmalige Passwörter zu konfigurieren.
. Drücken Sie die Taste `Save`, wenn Sie fertig sind.

image::keycloak_update_user.png[Keycloak Update Benutzer]

==== Löschung eines Benutzers

. Um *einen oder mehrere Benutzer zu löschen*, wählen Sie die gewünschten Benutzer aus und drücken Sie die Taste `Delete user`.

=== Mitgliedschaft in der Gruppe

. Melden Sie sich bei der Keycloak-Admin-Konsole an.
. Suchen Sie im Bereich `Groups` nach der Gruppe, die Sie verwalten möchten.
. Klicken Sie auf den Gruppennamen, um die Gruppendetails zu öffnen und die Registerkarte `Members` aufzurufen.
. Um ein neues Gruppenmitglied hinzuzufügen, drücken Sie auf die Schaltfläche `Add Member` und wählen Sie die gewünschten Benutzer aus.
. Um Benutzer aus der Gruppe zu löschen, wählen Sie die Benutzer aus der Liste aus und wählen Sie dann aus dem Menü, das sich in derselben Zeile wie die mit "⋮" gekennzeichnete Schaltfläche `Add member` befindet, `Leave group`.
