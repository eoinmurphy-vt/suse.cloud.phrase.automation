= 用户管理
:description: SUSE Cloud Observability 用户管理

SUSE Cloud Observability 租户（SUSE Cloud Observability 实例）的用户由https://www.keycloak.org/[Keycloak] 管理。每个客户（租户）都有一个专用的 Keycloak 领域。创建用户时，会在欢迎信息中发送一个指向 Keycloak 控制台的链接。

SUSE Cloud Observability 会将用户重定向到 Keycloak 进行身份验证。用户应加入一个或多个 Keycloak 小组。

预定义的 Keycloak 组：

* *realm-admin*：该组的成员可以登录 Keycloak 领域控制台并执行用户管理操作。
* *stackstate-k8s-troubleshooter*：该组中的用户会被分配`stackstate-k8s-troubleshooter` Keycloak 客户端角色，该角色会映射到同名的 SUSE Cloud Observability 角色。该角色授予常规 SUSE Cloud Observability 权限。
* *stackstate-k8s-admin*：该组中的用户会被分配`stackstate-k8s-admin` Keycloak 客户端角色，该角色会映射到同名的 SUSE Cloud Observability 角色。该角色授予 SUSE Cloud Observability 特权。

== 用户管理 URL

创建新用户时，他们会收到一条欢迎信息，其中包含一个指向 Keycloak 用户管理页面的链接。该链接*专供租户管理员使用*，默认情况下*，租户管理员*是第一用户。URL 格式为：`https://<keycloak_FQDN>/realms/<your_dedicated_Keycloak_realm>/account` 。

== 用户管理

* 登录 Keycloak 管理控制台。

image::keycloak_admin_console.png[Keycloak 管理控制台]

=== 管理用户

* 在左侧菜单中，选择`Manage` 部分下的`Users` 。

==== 添加新用户

单击`Add user` 按钮，输入用户信息，如 "用户名"、"电子邮件"、"名 "和 "姓"。

. `Required users actions` 字段留空。
. 将用户添加到所需的组中。
. 单击`Save` 。
+
带有注册链接和 SUSE Cloud Observability 租户、Keycloak 管理和账户控制台链接的欢迎消息将通过电子邮件发送给用户。

NOTE: 要激活账户（包括电子邮件确认和密码重置），用户必须点击注册链接。

image::keycloak_create_user.png[Keycloak 创建用户]

==== 更新用户详细信息

要*编辑用户详细信息*，请单击用户名选择用户。

. 根据需要更改细节。
. 设置一个或多个`Required user actions` ，例如，强制用户更新密码或配置一次性密码。
. 完成后按`Save` 按钮。

image::keycloak_update_user.png[钥匙斗篷更新用户]

==== 删除用户

. 要*删除一个或多个用户*，请选择所需的用户并按`Delete user` 按钮。

=== 小组成员

. 登录 Keycloak 管理控制台。
. 在`Groups` 部分，搜索您要管理的组。
. 单击组名打开组详细信息，并转到`Members` 选项卡。
. 要添加新的组员，请按`Add Member` 按钮并选择所需的用户。
. 要从组中删除用户，请从列表中选择用户，然后从与`Add member` 按钮同一行的菜单中选择"⋮"，选择`Leave group` 。
